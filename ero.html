<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERO</title>
    <script src="https://cdn.tailwindcss.com"></script>
     <style>
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animated-bg {
      background: linear-gradient(
        -45deg,
        #9d8993,
        #960000,
        #06b6d4,
        #a855f7
      );
      background-size: 400% 400%;
      animation: gradientMove 8s ease infinite;
    }
  </style>
</head>
<body class="animated-bg 100 min-h-screen font-sans">

    <!-- header -->
    <header class="bg-white/50 shadow p-4 font-bold text-xl sticky top-0 z-50 text-center">ERO</header>

    <!-- main -->
     <main class="max-w-6xl mx-auto p-4">
        <input id="search" placeholder="Cari Ero..." 
        class="bg-white/75 w-full mb-4 p-3 rounded-xl shadow focus:outline-none focus:ring-2 focus:ring-gray-400"/>


        <!-- Device -->
         <h2 class="font-bold text-lg mb-2 text-white">DEVICE</h2>
         <div class="hidden md:block bg-white/50 cursor-pointer rounded-xl mb-6 overflow-x-auto">
            <table class="w-full text-sm border">
                <thead class="bg-red-600 text-white">
                    <tr>
                        <th class="border p-2">Nama</th>
                        <th class="border p-2">Target</th>
                        <th class="border p-2">Qty</th>
                        <th class="border p-2">Value</th>
                        <th class="border p-2">Target/Day</th>
                        <th class="border p-2">%</th>
                    </tr>
                </thead>
                <tbody id="deviceTable"></tbody>
            </table>
         </div>
         <div id="deviceMobile" class="md:hidden grid gap-4 mb-6"></div>

         <!-- AKSESORIS -->
           <h2 class="font-bold text-lg mb-2 text-white">AKSESORIS</h2>
         <div class="hidden md:block bg-white rounded-xl mb-6 overflow-hidden">
            <table class="w-full text-sm border">
                <thead class="bg-red-600 text-white">
                    <tr>
                        <th class="border p-2">Nama</th>
                        <th class="border p-2">Target</th>
                        <th class="border p-2">Qty</th>
                        <th class="border p-2">Value</th>
                        <th class="border p-2">Target/Day</th>
                        <th class="border p-2">%</th>
                    </tr>
                </thead>
                <tbody id="aksesorisTable"></tbody>
            </table>
         </div>
         <div id="aksesorisMobile" class="md:hidden grid gap-4 mb-6"></div>
     </main>

     <!-- Button -->
      <div class="flex justify-center my-6">
         <button onclick="goBack()" class="px-8 py-3 rounded-full bg-gray-900 text-white font-semibold hover:scale-105 activer:scale-95 transition shadow-lg">
            ‚Üê Kembali
         </button>
      </div>
     

      <footer class="text-center text-sm text-gray-600 mb-4">
&copy; M Faisal Sadli 2026
</footer>


<!-- script -->
 <script>
    const CSV_URL = "https://docs.google.com/spreadsheets/d/1n3TNktABD8xQCW7upfPf9puo9dFPmaF3S7D15FY9yvU/export?format=tsv";

    const deviceTable = document.getElementById("deviceTable");
    const aksesorisTable = document.getElementById("aksesorisTable");
    const deviceMobile = document.getElementById("deviceMobile");
    const aksesorisMobile = document.getElementById("aksesorisMobile");

    let currentGroup = "";

    fetch(CSV_URL)
    .then(res => res.text())
    .then(text => {
        const lines = text.split("\n").map(l => l.trim()).filter(Boolean);

        lines.forEach(line =>{
            const cols = line.split("\t");

            if (cols[0].toUpperCase() === "DEVICE") { currentGroup = "DEVICE"; return; }
            if (cols[0].toUpperCase() === "AKSESORIS") { currentGroup = "AKSESORIS"; return; }
            if (cols[0] === "TARGET" || cols.length < 6) return;

            const item = {
                name : cols[0],
                target : cols [1],
                qty : cols [2],
                value : cols [3],
                targetDay : cols [4],
                ar : cols [5],
            };

            if(currentGroup === "DEVICE"){
                renderRow(item,deviceTable);
                renderCard(item,deviceMobile,"red");
            }

            if(currentGroup === "AKSESORIS"){
                renderRow(item,aksesorisTable);
                renderCard(item,aksesorisMobile,"red");
            }
        });
    });

    function renderRow(d, table){
        table.innerHTML += `
        <tr>
            <td class = "border p-2">${d.name}</td>
            <td class = "border p-2">${d.target}</td>
            <td class = "border p-2">${d.qty}</td>
            <td class = "border p-2">${d.value}</td>
            <td class = "border p-2">${d.targetDay}</td>
            <td class = "border p-2">${d.ar}</td>
            </tr>
        `;
    }

    // mobile Card

    function renderCard(d,container,color){
        container.innerHTML += `
        <div class = "group bg-white/50 rounded-2xl p-4 shadow-md 
        hover:shadow-xl hover:-translate-y-1 transition-all duration-300
        border-l-4 border-${color}-500">

        <div class ="flex justify-between items-center mb-2">
            <span class ="font-bold text-lg">${d.name}</span>
            <span class = "text-xs px-3 py-1 rounded-full bg-${color}-100 text-${color}-700 font-semibold">
                AR${d.ar}
                </span>
                </div>

         <div class = "grid grid-cols-2 gap-3 text-sm">
            <div>
                      <p class="text-gray-500">Target</p>
<p class="font-semibold">${d.target}</p>
</div>
<div>
<p class="text-gray-500">Qty</p>
<p class="font-semibold">${d.qty}</p>
</div>
<div>
<p class="text-gray-500">Value</p>
<p class="font-semibold">${d.value}</p>
</div>
<div>
<p class="text-gray-500">Target/Day</p>
<p class="font-semibold">${d.targetDay}</p>
</div>
</div>

<div class="mt-3 text-right text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition">
Tap untuk detail
</div>

</div>`;
}

document.getElementById("search").addEventListener("input",function(){
    const keyword = this.value.toLowerCase();
    document.querySelectorAll("tbody tr, .group").forEach(el =>{
        el.style.display = el.innerText.toLowerCase().includes(keyword) ? "" : "none";
    });
});

function goBack(){
window.location.href="index.html";
}
</script>

</body>
</html>