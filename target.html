<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>REPORT M114</title>
<script src="https://cdn.tailwindcss.com"></script>

  <style>
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animated-bg {
      background: linear-gradient(
        -45deg,
        #9d8993,
        #960000,
        #06b6d4,
        #a855f7
      );
      background-size: 400% 400%;
      animation: gradientMove 8s ease infinite;
    }
  </style>
</head>

<body class="animated-bg min-h-screen font-sans">

<!-- HEADER -->
<header class="bg-white/50 shadow sticky top-0 z-50">
  <div class="max-w-6xl mx-auto p-4 text-center font-bold text-xl">
    REPORT M114
  </div>
</header>

<main class="max-w-6xl mx-auto p-4">

<!-- SEARCH -->
<input id="search" placeholder="Cari store / nama..."
class="bg-white/75 w-full mb-6 p-3 rounded-xl shadow focus:outline-none focus:ring-2 focus:ring-indigo-400 "
oninput="filterItems()" />

<!-- ================= STORE ================= -->
<section class="mb-8">
<h2 class="font-bold text-lg mb-3 text-blue-600">STORE</h2>

<div class="hidden md:block bg-white/50 rounded-2xl shadow overflow-x-auto">
<table class="w-full text-sm border">
<thead class="bg-blue-600 text-white">
<tr>
<th class="border p-2">STORE</th>
<th class="border p-2">TARGET</th>
<th class="border p-2">QTY</th>
<th class="border p-2">VALUE</th>
<th class="border p-2">TARGET/DAY</th>
<th class="border p-2">ACV</th>
</tr>
</thead>
<tbody id="store"></tbody>
</table>
</div>

<div id="storeMobile" class="md:hidden grid gap-4"></div>
</section>

<!-- ================= ERO ================= -->
<section class="mb-8">
<h2 class="font-bold text-lg mb-3 text-green-600">ERO</h2>

<div class="hidden md:block bg-white/50 rounded-2xl shadow overflow-x-auto">
<table class="w-full text-sm border">
<thead class="bg-green-600/50 text-white">
<tr>
<th class="border p-2">ERO</th>
<th class="border p-2">TARGET</th>
<th class="border p-2">QTY</th>
<th class="border p-2">VALUE</th>
<th class="border p-2">TARGET/DAY</th>
<th class="border p-2">ACV</th>
</tr>
</thead>
<tbody id="ero"></tbody>
</table>
</div>

<div id="eroMobile" class="md:hidden grid gap-4"></div>
</section>

<!-- ================= PROMOTOR ================= -->
<section class="mb-8">
<h2 class="font-bold text-lg mb-3 text-yellow-600">PROMOTOR</h2>

<div class="hidden md:block bg-white/50 rounded-2xl shadow overflow-x-auto">
<table class="w-full text-sm border">
<thead class="bg-yellow-500 text-white">
<tr>
<th class="border p-2">PROMOTOR</th>
<th class="border p-2">TARGET</th>
<th class="border p-2">QTY</th>
<th class="border p-2">VALUE</th>
<th class="border p-2">TARGET/DAY</th>
<th class="border p-2">ACV</th>
</tr>
</thead>
<tbody id="promotor"></tbody>
</table>
</div>

<div id="promotorMobile" class="md:hidden grid gap-4"></div>
</section>

<!-- ================= FINANCING ================= -->
<section class="mb-10">
<h2 class="font-bold text-lg mb-3 text-purple-600">FINANCING</h2>

<div class="hidden md:block bg-white/50 rounded-2xl shadow overflow-x-auto">
<table class="w-full text-sm border">
<thead class="bg-purple-600 text-white">
<tr>
<th class="border p-2">FINANCING</th>
<th class="border p-2">TARGET</th>
<th class="border p-2">QTY</th>
<th class="border p-2">VALUE</th>
<th class="border p-2">TARGET/DAY</th>
<th class="border p-2">ACV</th>
</tr>
</thead>
<tbody id="financing"></tbody>
</table>
</div>

<div id="financingMobile" class="md:hidden grid gap-4"></div>
</section>

<!-- BUTTON KEMBALI -->
<div class="flex justify-center my-8">
<button onclick="goBack()"
class="group relative px-8 py-3 rounded-full bg-gray-900 text-white font-semibold
shadow-lg hover:shadow-2xl transition-all hover:scale-105 active:scale-95">

<span class="absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 via-blue-500 to-purple-500
opacity-0 blur-xl group-hover:opacity-70 transition"></span>

<span class="relative">‚Üê Kembali</span>
</button>
</div>

</main>

<footer class="text-center text-sm text-gray-500 pb-4">
&copy; M Faisal Sadli 2026
</footer>

<script>
const CSV_URL = "https://docs.google.com/spreadsheets/d/1UMVGCANWjOQlwGFzi47POm7dVEtYOmAq4jz7O2rol5o/export?format=tsv";

const store = document.getElementById("store");
const ero = document.getElementById("ero");
const promotor = document.getElementById("promotor");
const financing = document.getElementById("financing");

const storeMobile = document.getElementById("storeMobile");
const eroMobile = document.getElementById("eroMobile");
const promotorMobile = document.getElementById("promotorMobile");
const financingMobile = document.getElementById("financingMobile");

const search = document.getElementById("search");


const sections = {
STORE: { table: store, mobile: storeMobile, color: "blue" },
ERO: { table: ero, mobile: eroMobile, color: "green" },
PROMOTOR: { table: promotor, mobile: promotorMobile, color: "yellow" },
FINANCING: { table: financing, mobile: financingMobile, color: "purple" }
};

function filterItems(){
const q = search.value.toLowerCase();
document.querySelectorAll("tbody tr, .mobile-card").forEach(el=>{
el.style.display = el.innerText.toLowerCase().includes(q) ? "" : "none";
});
}

fetch(CSV_URL)
.then(r=>r.text())
.then(text=>{
const lines = text.split("\n").map(l=>l.trim()).filter(Boolean);
let mode="";

lines.forEach(line=>{
const cols=line.split("\t");
const key=cols[0]?.toUpperCase();

if(sections[key]){ mode=key; return; }
if(!mode || cols.length<5) return;

const sec=sections[mode];

// desktop
sec.table.innerHTML+=`
<tr class="hover:bg-gray-50 text-center">
<td class="border p-2 font-semibold">${cols[0]}</td>
<td class="border p-2">${cols[1]}</td>
<td class="border p-2">${cols[2]||"-"}</td>
<td class="border p-2">${cols[3]}</td>
<td class="border p-2">${cols[4]}</td>
<td class="border p-2">${cols[5]||"-"}</td>
</tr>`;

// mobile
const card=document.createElement("div");
card.className=`mobile-card bg-white rounded-2xl p-4 shadow-md
border-l-4 border-${sec.color}-500
hover:shadow-xl hover:-translate-y-1 transition`;

card.innerHTML=`
<div class="font-bold text-lg mb-2 truncate">${cols[0]}</div>
<div class="grid grid-cols-2 gap-2 text-sm">
${["TARGET","QTY","VALUE","TARGET/DAY","ACV"].map((l,i)=>`
<div class="flex justify-between bg-gray-50 p-2 rounded">
<span>${l}</span><span>${cols[i+1]||"-"}</span>
</div>`).join("")}
</div>`;

sec.mobile.appendChild(card);
});
});

function goBack(){
window.location.href="index.html";
}
</script>

</body>
</html>
